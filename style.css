body, html { margin: 0; padding: 0; overflow: hidden; background: #0b132b; color: white; width: 100%; height: 100%; }
.screen { height: 100vh; width: 100vw; position: relative; display: flex; flex-direction: column; align-items: center; justify-content: center; }
#snow-canvas { position: absolute; top: 0; left: 0; z-index: 0; }
.skyline { position: absolute; bottom: 0; width: 100%; height: 250px; background: url('images/NYC_Skyline_Silhouette.png') repeat-x bottom; background-size: contain; z-index: 1; pointer-events: none; }

.timer-container { position: absolute; top: 20px; width: 100%; text-align: center; z-index: 10; font-family: 'Montserrat', sans-serif; pointer-events: none; }
#countdown { font-size: 1.2rem; color: #6fffe9; letter-spacing: 2px; }
.year-text { font-size: 6rem; font-weight: 900; color: #6fffe9; position: absolute; top: 30px; left: 50%; transform: translateX(-50%); z-index: -1; text-shadow: 0 0 15px #6fffe9, 0 0 30px #6fffe9; opacity: 0.8; }

.content { z-index: 5; text-align: center; }
.birthday-text { font-family: 'Dancing Script', cursive; font-size: 5rem; margin: 0; text-shadow: 0 0 20px rgba(255, 255, 255, 0.3); }
.start-btn { margin-top: 20px; padding: 12px 30px; background: transparent; border: 2px solid #6fffe9; color: #6fffe9; border-radius: 50px; cursor: pointer; font-size: 1.1rem; transition: 0.3s; }
.start-btn:hover { background: #6fffe9; color: #0b132b; box-shadow: 0 0 15px #6fffe9; }

.decorations { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 4; pointer-events: none; }
.fav-item { position: absolute; width: 140px; height: auto; perspective: 1000px; pointer-events: all; animation: float 4s infinite ease-in-out; }
.item-1 { top: 12%; left: 8%; } .item-2 { top: 10%; right: 10%; } .item-3 { bottom: 25%; left: 10%; } .item-tree { bottom: 15%; right: 8%; width: 180px; }

.item-inner { position: relative; width: 100%; height: 100%; transition: transform 0.8s; transform-style: preserve-3d; }
.fav-item.flipped .item-inner { transform: rotateY(180deg); }
.item-front, .item-back { width: 100%; backface-visibility: hidden; -webkit-backface-visibility: hidden; border-radius: 8px; }
.item-front { position: relative; z-index: 2; }
.item-front img { width: 100%; display: block; border: 2px solid white; border-radius: 8px; }
.item-back { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #1c2541; color: #6fffe9; display: flex; align-items: center; justify-content: center; font-size: 3.5rem; transform: rotateY(180deg); border: 2px solid #6fffe9; z-index: 1; }

@keyframes float { 0%, 100% { transform: translateY(0) rotate(-2deg); } 50% { transform: translateY(-20px) rotate(2deg); } }

.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(11, 19, 43, 0.95); display: flex; align-items: center; justify-content: center; z-index: 100; }
.hidden, .confession-hidden { display: none; }
.modal-content { background: #1c2541; padding: 30px; border-radius: 20px; border: 2px solid #6fffe9; display: flex; flex-direction: column; align-items: center; width: 90%; max-width: 400px; text-align: center; }
#code-input { width: 180px; background: #0b132b; border: 1px solid #6fffe9; color: #6fffe9; font-size: 2rem; text-align: center; margin-bottom: 20px; letter-spacing: 8px; outline: none; }
.keypad { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; width: 100%; }
.keypad button { background: #3a506b; color: white; border: none; padding: 15px; font-size: 1.2rem; border-radius: 8px; cursor: pointer; }

.confession-active { display: flex !important; }
.confession-box { max-width: 500px; padding: 40px; }
.confession-text p { font-family: 'Montserrat', sans-serif; font-size: 1.1rem; line-height: 1.7; text-align: left; margin-bottom: 12px; }

.taxi { position: absolute; bottom: 30px; font-size: 40px; z-index: 2; animation: driveRightToLeft 15s linear infinite; transform: scaleX(1); }
@keyframes driveRightToLeft { from { right: -100px; } to { right: 110%; } }
.street-sign { position: absolute; top: 45%; right: 5%; background: #00703c; color: white; padding: 5px 15px; border: 2px solid white; transform: rotate(5deg); z-index: 2; font-weight: bold; }
.close-btn { position: absolute; top: 10px; right: 20px; background: none; border: none; color: white; font-size: 2rem; cursor: pointer; }